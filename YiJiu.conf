# WowYiJiuä¸ªäººé…ç½®
# date: 2022-9-18

[general]
# Quantumult X ä¼šå¯¹ server_check_url æŒ‡å®šçš„ç½‘å€è¿›è¡Œç›¸åº”æµ‹è¯•ï¼Œä»¥ç¡®è®¤èŠ‚ç‚¹çš„å¯ç”¨æ€§
# åŒæ ·å¯ä»¥åœ¨ server_local/remote ä¸­ï¼Œä¸ºèŠ‚ç‚¹ã€è®¢é˜…å•ç‹¬æŒ‡å®šserver_check_urlå‚æ•°
server_check_url=http://www.qualcomm.cn/generate_204
# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•è¶…æ—¶å‚æ•°ï¼Œéœ€å°äº 5000 æ¯«ç§’æ‰ç”Ÿæ•ˆ
server_check_timeout=2000
# èµ„æºè§£æå™¨
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# ç”¨äºèŠ‚ç‚¹é¡µé¢çš„èŠ‚ç‚¹ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰å±•ç¤ºå†…å®¹ä¸æ–¹å¼
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/GeoLocationChecker/QuantumultX/IP-API.js
# dns exclusion listä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠè¿œç¨‹è§£æçš„æ¨¡å¼
;dns_exclusion_list=*.qq.com
# ä¸‹åˆ—è¡¨ä¸­çš„å†…å®¹å°†ä¸ç»è¿‡ QuantumultXçš„å¤„ç†ï¼Œè®¾ç½®åå»ºè®®é‡å¯è®¾å¤‡
;excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
;icmp_auto_reply=true

[dns]
server=114.114.114.114
server=202.141.176.93 
server=202.141.178.13
server=117.50.10.10
server=223.5.5.5
server=119.29.29.29:53
server=119.28.28.28
# æŒ‡å®šåŸŸåè§£ædns
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.bilibili.com/119.29.29.29

[policy]
static=ï£¿ Apple, direct, proxy, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/Apple.png
static=ğŸ’¬ Telegram, proxy, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/Telegram.png
static=ğŸ“º æ¸¯å°ç•ªå‰§, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¨ğŸ‡³ å°æ¹¾, direct, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/StreamingSE.png
static=ğŸ¬ Netflix, proxy, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/Netflix.png
static=ğŸ¶ TikTok, proxy, direct, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/TikTok.png
static=ğŸ›‘ Adblock, reject, direct, proxy, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/Adblock.png
static=ğŸŸ Final, proxy, direct, ğŸ‡­ğŸ‡° é¦™æ¸¯, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/Final.png
static=ğŸ‡­ğŸ‡° é¦™æ¸¯, server-tag-regex=HK, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/HK.png
static=ğŸ‡¨ğŸ‡³ å°æ¹¾, server-tag-regex=TW, img-url=https://raw.githubusercontent.com/WowYiJiu/Personal/main/icon/TW.png

[server_remote]

[filter_remote]
# å½“æœ‰å¼ºåˆ¶ç­–ç•¥æ—¶ï¼Œè¿œç¨‹èµ„æºçš„è¿‡æ»¤å™¨ä¸­çš„ç­–ç•¥å°†è¢«å¿½ç•¥ï¼Œå¹¶ä½¿ç”¨å¼ºåˆ¶ç­–ç•¥
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Advertising.list, tag=å¹¿å‘Šæ‹¦æˆª, force-policy=ğŸ›‘ Adblock, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Privacy.list, tag=éšç§ä¿æŠ¤, force-policy=reject, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Hijacking.list, tag=è¿è¥åŠ«æŒ, force-policy=reject, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegramåˆ†æµ, force-policy=ğŸ’¬ Telegram, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflixåˆ†æµ, force-policy=ğŸ¬ Netflix, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTokåˆ†æµ, force-policy=ğŸ¶ TikTok, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/StreamingSE.list, tag=æ¸¯å°ç•ªå‰§, force-policy=ğŸ“º æ¸¯å°ç•ªå‰§, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Global.list, tag=å›½é™…ç½‘ç»œåˆ†æµ, force-policy=proxy, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=Appleåˆ†æµ, force-policy=ï£¿ Apple, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/SystemOTA/SystemOTA.list, tag=å±è”½ç³»ç»Ÿå‡çº§, force-policy=reject, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/China.list, tag=å›½å†…ç½‘ç»œåˆ†æµ, force-policy=direct, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/ChinaIP.list, tag=å›½å†…ipåˆ†æµ, force-policy=direct, update-interval=86400, opt-parser=false, enabled=true

[rewrite_remote]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=ç¥æœºé‡å®šå‘, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=ç¥æœºå»å¹¿å‘Š, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/YouTubeAds.conf, tag=ç¥æœºYoutubeå»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/WowYiJiu/Personal/main/YiJiu_JS.conf, tag=JS, update-interval=86400, opt-parser=true, enabled=true
https://subweb.s3.fr-par.scw.cloud/Module/embyUnlocked.conf, tag=emby, update-interval=172800, opt-parser=false, enabled=false
https://cdn.jsdelivr.net/gh/WowYiJiu/Personal@main/YiJiu_GetCookie.conf, tag=è·å–CK, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJs, update-interval=86400, opt-parser=false, enabled=true

[server_local]

[filter_local]
# å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
# GeoIP China(è‹¥å¯ç”¨ï¼Œåˆ™ç¦ç”¨ ChinaIP.list)
;geoip, cn, direct
final, ğŸŸ Final

[rewrite_local]
# TikTokè§£é” JP|KR|UK|US|TW
(?<=_region=)CN(?=&) url 307 UK
(?<=&mcc_mnc=)4 url 307 2
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) url 302  $1$4

[task_local]
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“-è§£é”æŸ¥è¯¢, img-url=checkmark.seal.system, enabled=true
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/geo_location.js, tag=GeoIP æŸ¥è¯¢, img-url=location.fill.viewfinder.system, enabled=true

[http_backend]
# éƒ¨ç½²æœ¬åœ° HTTP æœåŠ¡å™¨å¹¶ä½¿ç”¨ JavaScript è¿›è¡Œæ•°æ®å¤„ç†

[mitm]
# å¼€å¯ mitmï¼Œéœ€è¦è‡ªè¡Œåœ¨Quantumult Xä¸­ç”Ÿæˆè¯ä¹¦ã€å®‰è£…ã€ä¿¡ä»»
# é‡è¦çš„ï¼ï¼ï¼æ‚¨åº”è¯¥å§‹ç»ˆä¿æŒæ‚¨çš„ CA å¯†ç å’Œ p12 çš„ç§å¯†æ€§
hostname = *.tiktokv.com, *.byteoversea.com, *.tik-tokapi.com

